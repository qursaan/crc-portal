{% extends "layout-unfold1.html" %}
{% block unfold_main %}

<!--div class="onelab-title well-lg"-->
<div style="text-align:center" class="well-sm">
    <h2>Courses List</h2>
</div>
{% if errors %}
<ul>
    {% for error in errors %}
    <li>{{ error }}</li>
    {% endfor %}
</ul>
{% endif %}
<h2></h2>
<h3>Active Courses</h3>
<div id="middle_1" align="center">
    <div class="well">
        <ul class='nav nav-pills nav-stacked'>
            <li role="presentation">
                <button id="add_course" onclick="location.href='/lab/courses/add'"
                        class="btn btn-default">Add New Course
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"/>
                </button>
            </li>
        </ul>
        <hr/>
        <table class="table table-bordered table-striped table-hover">
            <thead><tr>
            <th>Title</th>
            <th>Code</th>
            <th>Registration Key</th>
            <th>Max No. Students</th>
            <th>Current Students</th>
            <th>Created Date</th>
            <th></th></tr>
            </thead>
            <tbody>
            {% for row in courses_list %}
            <tr class="border_bottom">
                <td> {{ row.title }}</td>
                <td> {{ row.code }}</td>
                <td> {{ row.key }}</td>
                <td> {{ row.max_students }}</td>
                <td> {{ row.studentcourses_set.all|length }}</td>
                <td> {{ row.created }}</td>
                <td>
                    <button id="edit_course" onclick="location.href='/lab/courses/{{ row.id }}'"
                        class="btn btn-default">Edit
                        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
                    </button>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>

    </div>
</div>
{% endblock %}